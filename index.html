<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Reliability Project - Monte Carlo Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            overflow-x: hidden;
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 12, 41, 0.98);
            backdrop-filter: blur(15px);
            padding: 0.75rem 1rem;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 0.95rem;
        }

        nav a:hover {
            background: rgba(99, 102, 241, 0.3);
            transform: translateY(-2px);
        }

        section {
            min-height: 100vh;
            padding: 100px 2rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
            text-align: center;
            background: linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            margin-bottom: 2rem;
            text-align: center;
            color: #6366f1;
        }

        h3 {
            font-size: clamp(1.25rem, 3vw, 1.5rem);
        }

        .slogan {
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            text-align: center;
            margin-bottom: 2rem;
            color: #a5b4fc;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        #home {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(99,102,241,0.1)" stroke-width="1"/></pattern></defs><rect width="800" height="600" fill="url(%23grid)"/></svg>') center/cover;
        }

        .hero-content {
            text-align: center;
            animation: fadeInUp 1s;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .formula-box {
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .formula {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            text-align: center;
            font-family: 'Courier New', monospace;
            color: #a5b4fc;
        }

        .graph-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
            width: 100%;
        }

        canvas {
            border: 2px solid #6366f1;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            cursor: grab;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 100%;
            height: auto;
            touch-action: none;
        }

        canvas:active {
            cursor: grabbing;
        }

        .controls {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .slider-container {
            margin: 1.5rem 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: clamp(0.95rem, 2vw, 1.1rem);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(99, 102, 241, 0.3);
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #6366f1;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #6366f1;
            cursor: pointer;
            border: none;
        }

        button {
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 0.875rem 1.75rem;
            font-size: clamp(0.95rem, 2vw, 1.1rem);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 0.5rem;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-box {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 2rem;
            margin-top: 1rem;
            text-align: center;
        }

        .result-value {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: bold;
            color: #10b981;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .stat-card {
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid #6366f1;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: bold;
            color: #6366f1;
        }

        .stat-label {
            font-size: clamp(0.85rem, 2vw, 0.9rem);
            color: #a5b4fc;
            margin-top: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #10b981);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(99, 102, 241, 0.3);
        }

        th {
            background: rgba(99, 102, 241, 0.3);
            font-size: clamp(0.95rem, 2vw, 1.1rem);
        }

        td {
            font-size: clamp(0.85rem, 2vw, 1rem);
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .app-card {
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
        }

        .app-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.3);
        }

        .app-icon {
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1rem;
        }

        .flowchart {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }

        .flow-step {
            background: rgba(99, 102, 241, 0.1);
            border-left: 4px solid #6366f1;
            padding: 1.5rem;
            border-radius: 5px;
            opacity: 0;
            animation: slideIn 0.5s forwards;
        }

        .flow-step:nth-child(1) { animation-delay: 0.1s; }
        .flow-step:nth-child(2) { animation-delay: 0.3s; }
        .flow-step:nth-child(3) { animation-delay: 0.5s; }
        .flow-step:nth-child(4) { animation-delay: 0.7s; }
        .flow-step:nth-child(5) { animation-delay: 0.9s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .comparison-chart {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .bar {
            display: flex;
            align-items: center;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .bar-label {
            width: 150px;
            font-weight: 600;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        .bar-fill {
            height: 30px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 5px;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            transition: width 1s ease;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
        }

        .graph-selector {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .graph-btn {
            padding: 0.75rem 1.25rem;
            background: rgba(99, 102, 241, 0.2);
            border: 2px solid #6366f1;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: clamp(0.85rem, 2vw, 0.95rem);
        }

        .graph-btn.active {
            background: #6366f1;
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        .graph-btn:hover {
            transform: translateY(-2px);
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 1rem 0;
            font-size: clamp(0.85rem, 2vw, 1rem);
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }

        .pdf-btn {
            background: linear-gradient(45deg, #ef4444, #f97316);
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 999;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
        }

        select {
            padding: 0.5rem;
            font-size: clamp(0.9rem, 2vw, 1rem);
            border-radius: 5px;
            background: rgba(99, 102, 241, 0.2);
            color: white;
            border: 1px solid #6366f1;
        }

        @media (max-width: 768px) {
            section {
                padding: 80px 1rem 1rem;
            }
            
            .container {
                padding: 0 0.5rem;
            }

            nav ul {
                gap: 0.5rem;
            }

            nav a {
                padding: 0.4rem 0.7rem;
                font-size: 0.85rem;
            }

            .stats-grid, .app-grid {
                grid-template-columns: 1fr;
            }

            th, td {
                padding: 0.5rem;
            }

            .bar {
                flex-direction: column;
                align-items: flex-start;
            }

            .bar-label {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .pdf-btn {
                width: 50px;
                height: 50px;
                font-size: 1.25rem;
                bottom: 15px;
                right: 15px;
            }
        }

        @media print {
            nav, .pdf-btn, button, .controls {
                display: none !important;
            }
            
            section {
                page-break-inside: avoid;
                min-height: auto;
                padding: 20px;
            }
            
            body {
                background: white;
                color: black;
            }
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#theory">Theory</a></li>
            <li><a href="#interactive">Interactive</a></li>
            <li><a href="#simulation">Simulation</a></li>
            <li><a href="#results">Results</a></li>
            <li><a href="#applications">Applications</a></li>
            <li><a href="#about">About</a></li>
        </ul>
    </nav>

    <section id="home">
        <div class="container hero-content">
            <h1>Network Reliability Analysis</h1>
            <p class="slogan">"In Networks, Redundancy = Reliability"</p>
            <p style="font-size: clamp(1rem, 2.5vw, 1.2rem); margin: 2rem 0;">
                Exploring graph connectivity through Monte Carlo simulation
            </p>
            <p style="color: #a5b4fc; font-size: clamp(0.9rem, 2vw, 1rem);">
                Understanding how network topology affects system reliability using probabilistic methods
            </p>
        </div>
    </section>

    <section id="theory">
        <div class="container">
            <h2>Theory & Methodology</h2>
            
            <h3 style="color: #8b5cf6; margin-top: 2rem;">What is Network Reliability?</h3>
            <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); line-height: 1.8; margin: 1rem 0;">
                Network reliability is the probability that a network remains connected when edges (connections) 
                can fail randomly. Each edge has a probability <strong>p</strong> of functioning properly.
            </p>

            <div class="formula-box">
                <h3 style="color: #8b5cf6; margin-bottom: 1rem;">Key Formula</h3>
                <div class="formula">
                    R(G, p) = P(Graph G is connected | edge probability p)
                </div>
            </div>

            <h3 style="color: #8b5cf6; margin-top: 2rem;">Monte Carlo Method</h3>
            <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); line-height: 1.8; margin: 1rem 0;">
                Since calculating exact reliability is computationally hard (NP-complete), we use Monte Carlo simulation:
                run many random trials and estimate reliability as the fraction of connected outcomes.
            </p>

            <div class="flowchart">
                <div class="flow-step">
                    <strong>Step 1:</strong> Define the graph structure (nodes and edges)
                </div>
                <div class="flow-step">
                    <strong>Step 2:</strong> For each trial, randomly determine if each edge survives (probability p)
                </div>
                <div class="flow-step">
                    <strong>Step 3:</strong> Check if the resulting graph is connected using BFS/DFS
                </div>
                <div class="flow-step">
                    <strong>Step 4:</strong> Repeat for N trials (e.g., 10,000 iterations)
                </div>
                <div class="flow-step">
                    <strong>Step 5:</strong> Calculate reliability = (Connected Trials) / (Total Trials)
                </div>
            </div>
        </div>
    </section>

    <section id="interactive">
        <div class="container">
            <h2>Interactive Network Explorer</h2>
            <p style="text-align: center; font-size: clamp(0.95rem, 2vw, 1.1rem); margin-bottom: 1rem;">
                Select a graph type and interact with it!
            </p>

            <div class="graph-selector">
                <button class="graph-btn active" onclick="changeInteractiveGraph('complete4')">Complete K4</button>
                <button class="graph-btn" onclick="changeInteractiveGraph('triangle')">Triangle</button>
                <button class="graph-btn" onclick="changeInteractiveGraph('star')">Star</button>
                <button class="graph-btn" onclick="changeInteractiveGraph('tree')">Tree</button>
                <button class="graph-btn" onclick="changeInteractiveGraph('custom')">Custom Network</button>
            </div>
            
            <div class="graph-container">
                <canvas id="graphCanvas" width="700" height="500"></canvas>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #10b981;"></div>
                    <span>Active Edge</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ef4444;"></div>
                    <span>Failed Edge</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #6366f1;"></div>
                    <span>Node</span>
                </div>
            </div>

            <div style="text-align: center; margin-top: 1rem;">
                <button onclick="resetGraph()">Reset Graph</button>
                <button onclick="randomFailure()">Random Failure</button>
                <button onclick="addNode()" id="addNodeBtn" style="display:none;">Add Node</button>
                <button onclick="toggleAddEdge()" id="addEdgeBtn" style="display:none;">Add Edge</button>
            </div>

            <p style="text-align: center; color: #a5b4fc; margin-top: 1rem; font-size: clamp(0.85rem, 2vw, 0.95rem);">
                Tip: Drag nodes to reposition | Click edges to toggle active/failed
            </p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="nodeCount">4</div>
                    <div class="stat-label">Nodes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="edgeCount">6</div>
                    <div class="stat-label">Edges</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeEdgeCount">6</div>
                    <div class="stat-label">Active Edges</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="redundancyScore">2.0</div>
                    <div class="stat-label">Avg Degree</div>
                </div>
            </div>

            <p id="connectivityStatus" style="font-size: clamp(1.1rem, 2.5vw, 1.3rem); margin-top: 1rem; font-weight: bold; text-align: center;"></p>
        </div>
    </section>

    <section id="simulation">
        <div class="container">
            <h2>Monte Carlo Simulation</h2>
            
            <div class="controls">
                <div class="slider-container">
                    <label>Edge Survival Probability (p): <span id="probValue">0.75</span></label>
                    <input type="range" id="probSlider" min="0.1" max="1" step="0.05" value="0.75">
                </div>

                <div class="slider-container">
                    <label>Number of Trials: <span id="trialsValue">5000</span></label>
                    <input type="range" id="trialsSlider" min="1000" max="50000" step="1000" value="5000">
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <label style="display: block; margin-bottom: 1rem;">Select Graph Type:</label>
                    <select id="graphType">
                        <option value="triangle">Triangle (3 nodes, 3 edges)</option>
                        <option value="star">Star (5 nodes, 4 edges)</option>
                        <option value="complete4">Complete K4 (4 nodes, 6 edges)</option>
                        <option value="complete5">Complete K5 (5 nodes, 10 edges)</option>
                        <option value="tree">Tree (5 nodes, 4 edges)</option>
                        <option value="ring">Ring (6 nodes, 6 edges)</option>
                    </select>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <button onclick="runSimulation()" id="simBtn">Run Simulation</button>
                    <button onclick="runAnimatedSimulation()" id="animBtn">Animated Simulation</button>
                </div>

                <div id="progressContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar">0%</div>
                    </div>
                </div>
            </div>

            <div id="resultBox" class="result-box" style="display: none;">
                <h3 style="margin-bottom: 1rem;">Simulation Results</h3>
                <div class="result-value" id="reliabilityResult">0%</div>
                <p style="margin-top: 1rem; font-size: clamp(0.95rem, 2vw, 1.1rem);" id="resultDetails"></p>
                
                <div class="stats-grid" style="margin-top: 2rem;">
                    <div class="stat-card">
                        <div class="stat-value" id="successTrials">0</div>
                        <div class="stat-label">Connected</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="failTrials">0</div>
                        <div class="stat-label">Disconnected</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgComponents">1.0</div>
                        <div class="stat-label">Avg Components</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="confidence">±0%</div>
                        <div class="stat-label">Confidence (95%)</div>
                    </div>
                </div>
            </div>

            <div class="graph-container" style="margin-top: 2rem;">
                <canvas id="simCanvas" width="700" height="400"></canvas>
            </div>
        </div>
    </section>

    <section id="results">
        <div class="container">
            <h2>Comparative Results</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Graph Type</th>
                        <th>Nodes</th>
                        <th>Edges</th>
                        <th>Reliability (p=0.7)</th>
                        <th>Reliability (p=0.9)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Triangle</td>
                        <td>3</td>
                        <td>3</td>
                        <td>97.3%</td>
                        <td>99.9%</td>
                    </tr>
                    <tr>
                        <td>Star</td>
                        <td>5</td>
                        <td>4</td>
                        <td>24.0%</td>
                        <td>65.6%</td>
                    </tr>
                    <tr>
                        <td>Complete K4</td>
                        <td>4</td>
                        <td>6</td>
                        <td>99.2%</td>
                        <td>100%</td>
                    </tr>
                    <tr>
                        <td>Tree</td>
                        <td>5</td>
                        <td>4</td>
                        <td>24.0%</td>
                        <td>65.6%</td>
                    </tr>
                </tbody>
            </table>

            <div class="comparison-chart">
                <h3 style="text-align: center; margin-bottom: 2rem;">Reliability Comparison (p = 0.7)</h3>
                <div class="bar">
                    <div class="bar-label">Triangle</div>
                    <div class="bar-fill" style="width: 97.3%;">97.3%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Complete K4</div>
                    <div class="bar-fill" style="width: 99.2%;">99.2%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Star</div>
                    <div class="bar-fill" style="width: 24%;">24.0%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Tree</div>
                    <div class="bar-fill" style="width: 24%;">24.0%</div>
                </div>
            </div>

            <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); margin-top: 2rem; line-height: 1.8;">
                <strong>Key Insight:</strong> Graphs with redundant paths (like Triangle and Complete graphs) 
                have significantly higher reliability than tree-like structures with single points of failure.
            </p>
        </div>
    </section>

    <section id="applications">
        <div class="container">
            <h2>Real-World Applications</h2>
            
            <div class="app-grid">
                <div class="app-card">
                    <div class="app-icon">🌐</div>
                    <h3>Internet Infrastructure</h3>
                    <p>Router and network redundancy ensure continuous connectivity even when individual links fail.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">⚡</div>
                    <h3>Power Grids</h3>
                    <p>Multiple transmission paths prevent blackouts when power lines or transformers fail.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">✈️</div>
                    <h3>Transportation</h3>
                    <p>Alternate routes in road, rail, and air networks maintain connectivity during disruptions.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">☁️</div>
                    <h3>Cloud Computing</h3>
                    <p>Data center interconnections and redundant servers ensure high availability of services.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <h2>About This Project</h2>
            
            <div style="background: rgba(99, 102, 241, 0.1); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                <h3 style="color: #8b5cf6;">Project Team</h3>
                <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); margin: 1rem 0;">
                    [Your Names Here]
                </p>
                
                <h3 style="color: #8b5cf6; margin-top: 2rem;">Project Guide</h3>
                <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); margin: 1rem 0;">
                    [Guide Name & Designation]
                </p>
                
                <h3 style="color: #8b5cf6; margin-top: 2rem;">Institution</h3>
                <p style="font-size: clamp(0.95rem, 2vw, 1.1rem); margin: 1rem 0;">
                    [Your College/University]
                </p>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <button onclick="generatePDF()" style="background: linear-gradient(45deg, #ef4444, #f97316);">Download Project Report (PDF)</button>
            </div>
        </div>
    </section>

    <!-- Floating PDF Download Button -->
    <button class="pdf-btn" onclick="generatePDF()" title="Download as PDF">📄</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        document.getElementById('probSlider').addEventListener('input', function() {
            document.getElementById('probValue').textContent = this.value;
        });

        document.getElementById('trialsSlider').addEventListener('input', function() {
            document.getElementById('trialsValue').textContent = this.value;
        });

        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        const simCanvas = document.getElementById('simCanvas');
        const simCtx = simCanvas.getContext('2d');
        
        let currentGraphType = 'complete4';
        let nodes = [];
        let edges = [];
        let addingEdgeMode = false;
        let selectedNode = null;
        let draggingNode = null;
        let isDragging = false;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        const graphDefinitions = {
            complete4: {
                nodes: [
                    {x: 250, y: 150, id: 0},
                    {x: 450, y: 150, id: 1},
                    {x: 450, y: 350, id: 2},
                    {x: 250, y: 350, id: 3}
                ],
                edges: [
                    {from: 0, to: 1, active: true},
                    {from: 1, to: 2, active: true},
                    {from: 2, to: 3, active: true},
                    {from: 3, to: 0, active: true},
                    {from: 0, to: 2, active: true},
                    {from: 1, to: 3, active: true}
                ]
            },
            triangle: {
                nodes: [
                    {x: 350, y: 150, id: 0},
                    {x: 250, y: 350, id: 1},
                    {x: 450, y: 350, id: 2}
                ],
                edges: [
                    {from: 0, to: 1, active: true},
                    {from: 1, to: 2, active: true},
                    {from: 2, to: 0, active: true}
                ]
            },
            star: {
                nodes: [
                    {x: 350, y: 250, id: 0},
                    {x: 350, y: 100, id: 1},
                    {x: 500, y: 250, id: 2},
                    {x: 350, y: 400, id: 3},
                    {x: 200, y: 250, id: 4}
                ],
                edges: [
                    {from: 0, to: 1, active: true},
                    {from: 0, to: 2, active: true},
                    {from: 0, to: 3, active: true},
                    {from: 0, to: 4, active: true}
                ]
            },
            tree: {
                nodes: [
                    {x: 350, y: 100, id: 0},
                    {x: 250, y: 220, id: 1},
                    {x: 450, y: 220, id: 2},
                    {x: 200, y: 340, id: 3},
                    {x: 300, y: 340, id: 4}
                ],
                edges: [
                    {from: 0, to: 1, active: true},
                    {from: 0, to: 2, active: true},
                    {from: 1, to: 3, active: true},
                    {from: 1, to: 4, active: true}
                ]
            },
            custom: {
                nodes: [
                    {x: 200, y: 200, id: 0},
                    {x: 500, y: 200, id: 1},
                    {x: 350, y: 350, id: 2}
                ],
                edges: [
                    {from: 0, to: 1, active: true},
                    {from: 1, to: 2, active: true},
                    {from: 2, to: 0, active: true}
                ]
            }
        };

        function changeInteractiveGraph(type) {
            currentGraphType = type;
            document.querySelectorAll('.graph-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const graphDef = graphDefinitions[type];
            nodes = JSON.parse(JSON.stringify(graphDef.nodes));
            edges = JSON.parse(JSON.stringify(graphDef.edges));
            
            document.getElementById('addNodeBtn').style.display = type === 'custom' ? 'inline-block' : 'none';
            document.getElementById('addEdgeBtn').style.display = type === 'custom' ? 'inline-block' : 'none';
            
            drawGraph();
            updateStats();
        }

        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            edges.forEach(edge => {
                const from = nodes[edge.from];
                const to = nodes[edge.to];
                ctx.beginPath();
                ctx.moveTo(from.x, from.y);
                ctx.lineTo(to.x, to.y);
                ctx.strokeStyle = edge.active ? '#10b981' : '#ef4444';
                ctx.lineWidth = edge.active ? 4 : 3;
                ctx.stroke();
                
                const midX = (from.x + to.x) / 2;
                const midY = (from.y + to.y) / 2;
                ctx.beginPath();
                ctx.arc(midX, midY, 5, 0, Math.PI * 2);
                ctx.fillStyle = edge.active ? '#10b981' : '#ef4444';
                ctx.fill();
            });
            
            nodes.forEach(node => {
                ctx.beginPath();
                ctx.arc(node.x, node.y, 25, 0, Math.PI * 2);
                ctx.fillStyle = '#6366f1';
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 3;
                ctx.stroke();
                
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 18px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(node.id, node.x, node.y);
            });
        }

        function getCanvasCoords(e) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            let clientX, clientY;
            if (e.touches && e.touches.length > 0) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            return {
                x: (clientX - rect.left) * scaleX,
                y: (clientY - rect.top) * scaleY
            };
        }

        function findNodeAtPosition(x, y) {
            return nodes.find(node => {
                const dist = Math.sqrt((x - node.x) ** 2 + (y - node.y) ** 2);
                return dist < 25;
            });
        }

        // Mouse events
        canvas.addEventListener('mousedown', (e) => {
            const coords = getCanvasCoords(e);
            const clickedNode = findNodeAtPosition(coords.x, coords.y);
            
            if (clickedNode && !addingEdgeMode) {
                draggingNode = clickedNode;
                dragOffsetX = coords.x - clickedNode.x;
                dragOffsetY = coords.y - clickedNode.y;
                canvas.style.cursor = 'grabbing';
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (draggingNode) {
                isDragging = true;
                const coords = getCanvasCoords(e);
                
                draggingNode.x = Math.max(30, Math.min(canvas.width - 30, coords.x - dragOffsetX));
                draggingNode.y = Math.max(30, Math.min(canvas.height - 30, coords.y - dragOffsetY));
                
                drawGraph();
            }
        });

        canvas.addEventListener('mouseup', () => {
            if (draggingNode) {
                draggingNode = null;
                canvas.style.cursor = 'grab';
                setTimeout(() => { isDragging = false; }, 50);
            }
        });

        canvas.addEventListener('mouseleave', () => {
            if (draggingNode) {
                draggingNode = null;
                canvas.style.cursor = 'grab';
                setTimeout(() => { isDragging = false; }, 50);
            }
        });

        // Touch events
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const coords = getCanvasCoords(e);
            const clickedNode = findNodeAtPosition(coords.x, coords.y);
            
            if (clickedNode && !addingEdgeMode) {
                draggingNode = clickedNode;
                dragOffsetX = coords.x - clickedNode.x;
                dragOffsetY = coords.y - clickedNode.y;
            }
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            if (draggingNode) {
                isDragging = true;
                const coords = getCanvasCoords(e);
                
                draggingNode.x = Math.max(30, Math.min(canvas.width - 30, coords.x - dragOffsetX));
                draggingNode.y = Math.max(30, Math.min(canvas.height - 30, coords.y - dragOffsetY));
                
                drawGraph();
            }
        });

        canvas.addEventListener('touchend', () => {
            if (draggingNode) {
                draggingNode = null;
                setTimeout(() => { isDragging = false; }, 50);
            }
        });

        canvas.addEventListener('click', (e) => {
            if (isDragging) return;
            
            const coords = getCanvasCoords(e);
            
            if (addingEdgeMode) {
                const clickedNode = findNodeAtPosition(coords.x, coords.y);
                
                if (clickedNode) {
                    if (!selectedNode) {
                        selectedNode = clickedNode;
                    } else {
                        if (selectedNode.id !== clickedNode.id) {
                            const existingEdge = edges.find(e => 
                                (e.from === selectedNode.id && e.to === clickedNode.id) ||
                                (e.to === selectedNode.id && e.from === clickedNode.id)
                            );
                            if (!existingEdge) {
                                edges.push({from: selectedNode.id, to: clickedNode.id, active: true});
                                drawGraph();
                                updateStats();
                            }
                        }
                        selectedNode = null;
                        addingEdgeMode = false;
                        document.getElementById('addEdgeBtn').textContent = 'Add Edge';
                    }
                }
            } else {
                let edgeClicked = false;
                edges.forEach(edge => {
                    const from = nodes[edge.from];
                    const to = nodes[edge.to];
                    const dist = distanceToLine(coords.x, coords.y, from.x, from.y, to.x, to.y);
                    if (dist < 15) {
                        edge.active = !edge.active;
                        edgeClicked = true;
                    }
                });
                
                if (edgeClicked) {
                    drawGraph();
                    updateStats();
                }
            }
        });

        function checkConnectivity() {
            const visited = new Array(nodes.length).fill(false);
            const activeEdges = edges.filter(e => e.active);
            
            if (activeEdges.length === 0) return nodes.length <= 1;
            
            function dfs(nodeId) {
                visited[nodeId] = true;
                activeEdges.forEach(edge => {
                    if (edge.from === nodeId && !visited[edge.to]) dfs(edge.to);
                    if (edge.to === nodeId && !visited[edge.from]) dfs(edge.from);
                });
            }
            
            dfs(0);
            return visited.every(v => v);
        }

        function updateStats() {
            const activeCount = edges.filter(e => e.active).length;
            document.getElementById('nodeCount').textContent = nodes.length;
            document.getElementById('edgeCount').textContent = edges.length;
            document.getElementById('activeEdgeCount').textContent = activeCount;
            
            const avgDegree = nodes.length > 0 ? (2 * activeCount / nodes.length).toFixed(1) : 0;
            document.getElementById('redundancyScore').textContent = avgDegree;
            
            const connected = checkConnectivity();
            const status = document.getElementById('connectivityStatus');
            status.textContent = connected ? '✓ Network is CONNECTED' : '✗ Network is DISCONNECTED';
            status.style.color = connected ? '#10b981' : '#ef4444';
        }

        function distanceToLine(px, py, x1, y1, x2, y2) {
            const A = px - x1;
            const B = py - y1;
            const C = x2 - x1;
            const D = y2 - y1;
            const dot = A * C + B * D;
            const lenSq = C * C + D * D;
            let param = -1;
            if (lenSq !== 0) param = dot / lenSq;
            let xx, yy;
            if (param < 0) { xx = x1; yy = y1; }
            else if (param > 1) { xx = x2; yy = y2; }
            else { xx = x1 + param * C; yy = y1 + param * D; }
            const dx = px - xx;
            const dy = py - yy;
            return Math.sqrt(dx * dx + dy * dy);
        }

        function resetGraph() {
            changeInteractiveGraph(currentGraphType);
        }

        function randomFailure() {
            if (edges.length === 0) return;
            const activeEdges = edges.filter(e => e.active);
            if (activeEdges.length > 0) {
                const randomEdge = activeEdges[Math.floor(Math.random() * activeEdges.length)];
                randomEdge.active = false;
                drawGraph();
                updateStats();
            }
        }

        function addNode() {
            const newId = nodes.length;
            const x = 200 + Math.random() * 300;
            const y = 150 + Math.random() * 250;
            nodes.push({x, y, id: newId});
            drawGraph();
            updateStats();
        }

        function toggleAddEdge() {
            addingEdgeMode = !addingEdgeMode;
            selectedNode = null;
            document.getElementById('addEdgeBtn').textContent = addingEdgeMode ? 'Cancel' : 'Add Edge';
        }

        changeInteractiveGraph('complete4');

        function runSimulation() {
            const prob = parseFloat(document.getElementById('probSlider').value);
            const trials = parseInt(document.getElementById('trialsSlider').value);
            const graphType = document.getElementById('graphType').value;
            
            document.getElementById('simBtn').disabled = true;
            document.getElementById('animBtn').disabled = true;
            
            const graph = getGraphDefinition(graphType);
            
            let successCount = 0;
            let totalComponents = 0;
            
            for (let t = 0; t < trials; t++) {
                const activeEdges = graph.edges.filter(() => Math.random() < prob);
                const result = analyzeGraph(graph.nodes, activeEdges);
                if (result.connected) {
                    successCount++;
                }
                totalComponents += result.components;
            }
            
            const reliability = (successCount / trials * 100).toFixed(2);
            const avgComponents = (totalComponents / trials).toFixed(2);
            const confidence = (1.96 * Math.sqrt((successCount/trials) * (1 - successCount/trials) / trials) * 100).toFixed(2);
            
            document.getElementById('resultBox').style.display = 'block';
            document.getElementById('reliabilityResult').textContent = reliability + '%';
            document.getElementById('resultDetails').textContent = 
                `Out of ${trials} trials with p=${prob}, ${successCount} resulted in a connected network.`;
            document.getElementById('successTrials').textContent = successCount;
            document.getElementById('failTrials').textContent = trials - successCount;
            document.getElementById('avgComponents').textContent = avgComponents;
            document.getElementById('confidence').textContent = '±' + confidence + '%';
            
            drawSimulationGraph(graph, prob);
            
            document.getElementById('simBtn').disabled = false;
            document.getElementById('animBtn').disabled = false;
        }

        function runAnimatedSimulation() {
            const prob = parseFloat(document.getElementById('probSlider').value);
            const trials = Math.min(parseInt(document.getElementById('trialsSlider').value), 1000);
            const graphType = document.getElementById('graphType').value;
            
            document.getElementById('simBtn').disabled = true;
            document.getElementById('animBtn').disabled = true;
            document.getElementById('progressContainer').style.display = 'block';
            
            const graph = getGraphDefinition(graphType);
            let successCount = 0;
            let currentTrial = 0;
            
            const interval = setInterval(() => {
                if (currentTrial >= trials) {
                    clearInterval(interval);
                    document.getElementById('progressContainer').style.display = 'none';
                    document.getElementById('simBtn').disabled = false;
                    document.getElementById('animBtn').disabled = false;
                    
                    const reliability = (successCount / trials * 100).toFixed(2);
                    document.getElementById('resultBox').style.display = 'block';
                    document.getElementById('reliabilityResult').textContent = reliability + '%';
                    document.getElementById('resultDetails').textContent = 
                        `Animated simulation completed: ${successCount}/${trials} connected.`;
                    document.getElementById('successTrials').textContent = successCount;
                    document.getElementById('failTrials').textContent = trials - successCount;
                    return;
                }
                
                const activeEdges = graph.edges.filter(() => Math.random() < prob);
                const connected = isConnected(graph.nodes, activeEdges);
                if (connected) successCount++;
                
                drawSimulationTrial(graph, activeEdges, connected);
                
                currentTrial++;
                const progress = (currentTrial / trials * 100).toFixed(1);
                document.getElementById('progressBar').style.width = progress + '%';
                document.getElementById('progressBar').textContent = progress + '%';
            }, 50);
        }

        function getGraphDefinition(type) {
            const defs = {
                triangle: {nodes: 3, edges: [[0,1], [1,2], [0,2]]},
                star: {nodes: 5, edges: [[0,1], [0,2], [0,3], [0,4]]},
                complete4: {nodes: 4, edges: [[0,1], [0,2], [0,3], [1,2], [1,3], [2,3]]},
                complete5: {nodes: 5, edges: [[0,1], [0,2], [0,3], [0,4], [1,2], [1,3], [1,4], [2,3], [2,4], [3,4]]},
                tree: {nodes: 5, edges: [[0,1], [1,2], [1,3], [3,4]]},
                ring: {nodes: 6, edges: [[0,1], [1,2], [2,3], [3,4], [4,5], [5,0]]}
            };
            return defs[type];
        }

        function analyzeGraph(nodeCount, edges) {
            if (edges.length === 0) return {connected: nodeCount === 1, components: nodeCount};
            
            const visited = new Array(nodeCount).fill(false);
            let components = 0;
            
            function dfs(node) {
                visited[node] = true;
                edges.forEach(edge => {
                    if (edge[0] === node && !visited[edge[1]]) dfs(edge[1]);
                    if (edge[1] === node && !visited[edge[0]]) dfs(edge[0]);
                });
            }
            
            for (let i = 0; i < nodeCount; i++) {
                if (!visited[i]) {
                    dfs(i);
                    components++;
                }
            }
            
            return {connected: components === 1, components};
        }

        function isConnected(nodeCount, edges) {
            return analyzeGraph(nodeCount, edges).connected;
        }

        function drawSimulationGraph(graph, prob) {
            simCtx.clearRect(0, 0, simCanvas.width, simCanvas.height);
            
            const nodePositions = calculateNodePositions(graph.nodes, simCanvas.width, simCanvas.height);
            
            const sampleEdges = graph.edges.filter(() => Math.random() < prob);
            
            graph.edges.forEach(edge => {
                const from = nodePositions[edge[0]];
                const to = nodePositions[edge[1]];
                const active = sampleEdges.some(e => 
                    (e[0] === edge[0] && e[1] === edge[1]) || (e[1] === edge[0] && e[0] === edge[1])
                );
                
                simCtx.beginPath();
                simCtx.moveTo(from.x, from.y);
                simCtx.lineTo(to.x, to.y);
                simCtx.strokeStyle = active ? 'rgba(16, 185, 129, 0.6)' : 'rgba(239, 68, 68, 0.3)';
                simCtx.lineWidth = active ? 3 : 2;
                simCtx.stroke();
            });
            
            nodePositions.forEach((pos, i) => {
                simCtx.beginPath();
                simCtx.arc(pos.x, pos.y, 20, 0, Math.PI * 2);
                simCtx.fillStyle = '#6366f1';
                simCtx.fill();
                simCtx.strokeStyle = '#fff';
                simCtx.lineWidth = 2;
                simCtx.stroke();
                
                simCtx.fillStyle = '#fff';
                simCtx.font = 'bold 14px Arial';
                simCtx.textAlign = 'center';
                simCtx.textBaseline = 'middle';
                simCtx.fillText(i, pos.x, pos.y);
            });
        }

        function drawSimulationTrial(graph, activeEdges, connected) {
            simCtx.clearRect(0, 0, simCanvas.width, simCanvas.height);
            
            const nodePositions = calculateNodePositions(graph.nodes, simCanvas.width, simCanvas.height);
            
            graph.edges.forEach(edge => {
                const from = nodePositions[edge[0]];
                const to = nodePositions[edge[1]];
                const active = activeEdges.some(e => 
                    (e[0] === edge[0] && e[1] === edge[1]) || (e[1] === edge[0] && e[0] === edge[1])
                );
                
                simCtx.beginPath();
                simCtx.moveTo(from.x, from.y);
                simCtx.lineTo(to.x, to.y);
                simCtx.strokeStyle = active ? '#10b981' : '#ef4444';
                simCtx.lineWidth = active ? 3 : 2;
                simCtx.stroke();
            });
            
            nodePositions.forEach((pos, i) => {
                simCtx.beginPath();
                simCtx.arc(pos.x, pos.y, 20, 0, Math.PI * 2);
                simCtx.fillStyle = connected ? '#10b981' : '#ef4444';
                simCtx.fill();
                simCtx.strokeStyle = '#fff';
                simCtx.lineWidth = 2;
                simCtx.stroke();
                
                simCtx.fillStyle = '#fff';
                simCtx.font = 'bold 14px Arial';
                simCtx.textAlign = 'center';
                simCtx.textBaseline = 'middle';
                simCtx.fillText(i, pos.x, pos.y);
            });
        }

        function calculateNodePositions(nodeCount, width, height) {
            const positions = [];
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = Math.min(width, height) * 0.35;
            
            for (let i = 0; i < nodeCount; i++) {
                const angle = (i / nodeCount) * 2 * Math.PI - Math.PI / 2;
                positions.push({
                    x: centerX + radius * Math.cos(angle),
                    y: centerY + radius * Math.sin(angle)
                });
            }
            
            return positions;
        }

        function generatePDF() {
            const pdfBtn = document.querySelector('.pdf-btn');
            const originalText = pdfBtn.innerHTML;
            pdfBtn.innerHTML = '⏳';
            pdfBtn.disabled = true;
            
            const opt = {
                margin: [10, 10],
                filename: 'Network_Reliability_Project.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { 
                    scale: 2,
                    useCORS: true,
                    logging: false,
                    letterRendering: true
                },
                jsPDF: { 
                    unit: 'mm', 
                    format: 'a4', 
                    orientation: 'portrait' 
                },
                pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
            };
            
            const element = document.body.cloneNode(true);
            
            const nav = element.querySelector('nav');
            if (nav) nav.remove();
            
            const buttons = element.querySelectorAll('button');
            buttons.forEach(btn => btn.remove());
            
            const pdfBtnClone = element.querySelector('.pdf-btn');
            if (pdfBtnClone) pdfBtnClone.remove();
            
            html2pdf().set(opt).from(element).save().then(() => {
                pdfBtn.innerHTML = originalText;
                pdfBtn.disabled = false;
            }).catch(err => {
                console.error('PDF generation error:', err);
                alert('Error generating PDF. Please try again.');
                pdfBtn.innerHTML = originalText;
                pdfBtn.disabled = false;
            });
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>