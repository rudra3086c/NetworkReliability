<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Reliability Project - Monte Carlo Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 12, 41, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        nav a:hover {
            background: rgba(99, 102, 241, 0.3);
            transform: translateY(-2px);
        }

        /* Sections */
        section {
            min-height: 100vh;
            padding: 100px 2rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-align: center;
            background: linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            color: #6366f1;
        }

        .slogan {
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
            color: #a5b4fc;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Home Section */
        #home {
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(99,102,241,0.1)" stroke-width="1"/></pattern></defs><rect width="800" height="600" fill="url(%23grid)"/></svg>') center/cover;
        }

        .hero-content {
            text-align: center;
            animation: fadeInUp 1s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Theory Section */
        .formula-box {
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .formula {
            font-size: 1.3rem;
            text-align: center;
            font-family: 'Courier New', monospace;
            color: #a5b4fc;
        }

        /* Interactive Graph */
        .graph-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }

        canvas {
            border: 2px solid #6366f1;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }

        /* Simulation Controls */
        .controls {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .slider-container {
            margin: 1.5rem 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(99, 102, 241, 0.3);
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #6366f1;
            cursor: pointer;
        }

        button {
            background: linear-gradient(45deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 0.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #6366f1);
            width: 0%;
            transition: width 0.3s;
        }

        .network-viz {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 2rem 0;
            gap: 2rem;
        }

        .graph-preview {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            min-width: 200px;
        }

        .graph-preview canvas {
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 5px;
            margin: 1rem 0;
        }

        .stat-card {
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            min-width: 200px;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #8b5cf6;
            margin: 0.5rem 0;
        }

        .stat-label {
            color: #a5b4fc;
            font-size: 1rem;
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .result-box {
            background: rgba(16, 185, 129, 0.1);
            border: 2px solid #10b981;
            border-radius: 10px;
            padding: 2rem;
            margin-top: 1rem;
            text-align: center;
        }

        .result-value {
            font-size: 3rem;
            font-weight: bold;
            color: #10b981;
        }

        /* Results Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(99, 102, 241, 0.3);
        }

        th {
            background: rgba(99, 102, 241, 0.3);
            font-size: 1.1rem;
        }

        /* Applications Grid */
        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .app-card {
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid #6366f1;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s;
        }

        .app-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.3);
        }

        .app-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Flowchart Steps */
        .flowchart {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }

        .flow-step {
            background: rgba(99, 102, 241, 0.1);
            border-left: 4px solid #6366f1;
            padding: 1.5rem;
            border-radius: 5px;
            opacity: 0;
            animation: slideIn 0.5s forwards;
        }

        .flow-step:nth-child(1) { animation-delay: 0.1s; }
        .flow-step:nth-child(2) { animation-delay: 0.3s; }
        .flow-step:nth-child(3) { animation-delay: 0.5s; }
        .flow-step:nth-child(4) { animation-delay: 0.7s; }
        .flow-step:nth-child(5) { animation-delay: 0.9s; }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .comparison-chart {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .bar {
            display: flex;
            align-items: center;
            margin: 1rem 0;
        }

        .bar-label {
            width: 150px;
            font-weight: 600;
        }

        .bar-fill {
            height: 30px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 5px;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="#home">üè† Home</a></li>
            <li><a href="#theory">üìò Theory</a></li>
            <li><a href="#interactive">üéÆ Interactive</a></li>
            <li><a href="#simulation">üñ• Simulation</a></li>
            <li><a href="#results">üìä Results</a></li>
            <li><a href="#applications">üåç Applications</a></li>
            <li><a href="#about">üìë About</a></li>
        </ul>
    </nav>

    <!-- HOME SECTION -->
    <section id="home">
        <div class="container hero-content">
            <h1>Network Reliability Analysis</h1>
            <p class="slogan">"In Networks, Redundancy = Reliability"</p>
            <p style="font-size: 1.2rem; margin: 2rem 0;">
                Exploring graph connectivity through Monte Carlo simulation
            </p>
            <p style="color: #a5b4fc;">
                Understanding how network topology affects system reliability using probabilistic methods
            </p>
        </div>
    </section>

    <!-- THEORY SECTION -->
    <section id="theory">
        <div class="container">
            <h2>üìò Theory & Methodology</h2>
            
            <h3 style="color: #8b5cf6; margin-top: 2rem;">What is Network Reliability?</h3>
            <p style="font-size: 1.1rem; line-height: 1.8; margin: 1rem 0;">
                Network reliability is the probability that a network remains connected when edges (connections) 
                can fail randomly. Each edge has a probability <strong>p</strong> of functioning properly.
            </p>

            <div class="formula-box">
                <h3 style="color: #8b5cf6; margin-bottom: 1rem;">Key Formula</h3>
                <div class="formula">
                    R(G, p) = P(Graph G is connected | edge probability p)
                </div>
            </div>

            <h3 style="color: #8b5cf6; margin-top: 2rem;">Monte Carlo Method</h3>
            <p style="font-size: 1.1rem; line-height: 1.8; margin: 1rem 0;">
                Since calculating exact reliability is computationally hard (NP-complete), we use Monte Carlo simulation:
                run many random trials and estimate reliability as the fraction of connected outcomes.
            </p>

            <div class="network-viz">
                <div class="graph-preview">
                    <h4 style="color: #8b5cf6;">Triangle Graph</h4>
                    <canvas id="trianglePreview" width="150" height="150"></canvas>
                    <p style="font-size: 0.9rem; color: #a5b4fc;">3 nodes, 3 edges<br>High redundancy</p>
                </div>
                <div class="graph-preview">
                    <h4 style="color: #8b5cf6;">Star Graph</h4>
                    <canvas id="starPreview" width="150" height="150"></canvas>
                    <p style="font-size: 0.9rem; color: #a5b4fc;">5 nodes, 4 edges<br>Central hub</p>
                </div>
                <div class="graph-preview">
                    <h4 style="color: #8b5cf6;">Complete K4</h4>
                    <canvas id="k4Preview" width="150" height="150"></canvas>
                    <p style="font-size: 0.9rem; color: #a5b4fc;">4 nodes, 6 edges<br>Maximum redundancy</p>
                </div>
                <div class="graph-preview">
                    <h4 style="color: #8b5cf6;">Tree Graph</h4>
                    <canvas id="treePreview" width="150" height="150"></canvas>
                    <p style="font-size: 0.9rem; color: #a5b4fc;">5 nodes, 4 edges<br>No cycles</p>
                </div>
            </div>

            <div class="flowchart">
                <div class="flow-step">
                    <strong>Step 1:</strong> Define the graph structure (nodes and edges)
                </div>
                <div class="flow-step">
                    <strong>Step 2:</strong> For each trial, randomly determine if each edge survives (probability p)
                </div>
                <div class="flow-step">
                    <strong>Step 3:</strong> Check if the resulting graph is connected using BFS/DFS
                </div>
                <div class="flow-step">
                    <strong>Step 4:</strong> Repeat for N trials (e.g., 10,000 iterations)
                </div>
                <div class="flow-step">
                    <strong>Step 5:</strong> Calculate reliability = (Connected Trials) / (Total Trials)
                </div>
            </div>
        </div>
    </section>

    <!-- INTERACTIVE GRAPH SECTION -->
    <section id="interactive">
        <div class="container">
            <h2>üéÆ Interactive Network</h2>
            <p style="text-align: center; font-size: 1.1rem; margin-bottom: 2rem;">
                Click on edges to fail them. See if the network stays connected!
            </p>
            
            <div class="graph-container">
                <canvas id="graphCanvas" width="600" height="400"></canvas>
            </div>

            <div style="text-align: center; margin-top: 1rem;">
                <button onclick="resetGraph()">Reset Graph</button>
                <p id="connectivityStatus" style="font-size: 1.3rem; margin-top: 1rem; font-weight: bold;"></p>
            </div>
        </div>
    </section>

    <!-- SIMULATION SECTION -->
    <section id="simulation">
        <div class="container">
            <h2>üñ• Monte Carlo Simulation</h2>
            
            <div class="controls">
                <div class="slider-container">
                    <label>Edge Survival Probability (p): <span id="probValue">0.75</span></label>
                    <input type="range" id="probSlider" min="0.1" max="1" step="0.05" value="0.75">
                </div>

                <div class="slider-container">
                    <label>Number of Trials: <span id="trialsValue">5000</span></label>
                    <input type="range" id="trialsSlider" min="1000" max="20000" step="1000" value="5000">
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <label style="display: block; margin-bottom: 1rem;">Select Graph Type:</label>
                    <select id="graphType" style="padding: 0.5rem; font-size: 1rem; border-radius: 5px; background: rgba(99, 102, 241, 0.2); color: white; border: 1px solid #6366f1;">
                        <option value="triangle">Triangle (3 nodes, 3 edges)</option>
                        <option value="star">Star (5 nodes, 4 edges)</option>
                        <option value="complete4">Complete K4 (4 nodes, 6 edges)</option>
                        <option value="tree">Tree (5 nodes, 4 edges)</option>
                    </select>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                    <button onclick="runSimulation()">‚ñ∂ Run Simulation</button>
                    <p id="quickEstimate" style="margin-top: 1rem; color: #a5b4fc; font-size: 1rem;"></p>
                </div>
            </div>

            <div id="resultBox" class="result-box" style="display: none;">
                <h3 style="margin-bottom: 1rem;">Simulation Results</h3>
                <div class="result-value" id="reliabilityResult">0%</div>
                <p style="margin-top: 1rem; font-size: 1.1rem;" id="resultDetails"></p>
                <p style="margin-top: 1rem; font-size: 1.2rem; font-weight: bold;" id="interpretation"></p>
            </div>
        </div>
    </section>

    <!-- RESULTS SECTION -->
    <section id="results">
        <div class="container">
            <h2>üìä Comparative Results</h2>
            
            <div class="network-viz">
                <div class="stat-card">
                    <div class="stat-label">Most Reliable</div>
                    <div class="stat-value">K4</div>
                    <div class="stat-label">Complete Graph</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Average Reliability</div>
                    <div class="stat-value">67%</div>
                    <div class="stat-label">Across all graphs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Least Reliable</div>
                    <div class="stat-value">Star</div>
                    <div class="stat-label">Single point failure</div>
                </div>
            </div>
            
            <table>
                <thead>
                    <tr>
                        <th>Graph Type</th>
                        <th>Nodes</th>
                        <th>Edges</th>
                        <th>Reliability (p=0.7)</th>
                        <th>Reliability (p=0.9)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Triangle</td>
                        <td>3</td>
                        <td>3</td>
                        <td>97.3%</td>
                        <td>99.9%</td>
                    </tr>
                    <tr>
                        <td>Star</td>
                        <td>5</td>
                        <td>4</td>
                        <td>24.0%</td>
                        <td>65.6%</td>
                    </tr>
                    <tr>
                        <td>Complete K4</td>
                        <td>4</td>
                        <td>6</td>
                        <td>99.2%</td>
                        <td>100%</td>
                    </tr>
                    <tr>
                        <td>Tree</td>
                        <td>5</td>
                        <td>4</td>
                        <td>24.0%</td>
                        <td>65.6%</td>
                    </tr>
                </tbody>
            </table>

            <div class="comparison-chart">
                <h3 style="text-align: center; margin-bottom: 2rem;">Reliability Comparison (p = 0.7)</h3>
                <div class="bar">
                    <div class="bar-label">Triangle</div>
                    <div class="bar-fill" style="width: 97.3%;">97.3%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Complete K4</div>
                    <div class="bar-fill" style="width: 99.2%;">99.2%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Star</div>
                    <div class="bar-fill" style="width: 24%;">24.0%</div>
                </div>
                <div class="bar">
                    <div class="bar-label">Tree</div>
                    <div class="bar-fill" style="width: 24%;">24.0%</div>
                </div>
            </div>

            <div style="background: rgba(99, 102, 241, 0.1); border-radius: 10px; padding: 2rem; margin-top: 2rem;">
                <h3 style="color: #8b5cf6; margin-bottom: 1rem;">Key Insights</h3>
                <ul style="font-size: 1.1rem; line-height: 2; list-style-position: inside;">
                    <li>üîó <strong>Redundancy matters:</strong> Graphs with multiple paths (Triangle, K4) show 97%+ reliability</li>
                    <li>‚ö†Ô∏è <strong>Single point of failure:</strong> Star and Tree topologies are vulnerable (24% at p=0.7)</li>
                    <li>üìà <strong>Edge density correlation:</strong> More edges generally mean higher reliability</li>
                    <li>üéØ <strong>Optimal design:</strong> Complete graphs provide maximum reliability but require most resources</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- APPLICATIONS SECTION -->
    <section id="applications">
        <div class="container">
            <h2>üåç Real-World Applications</h2>
            
            <div class="app-grid">
                <div class="app-card">
                    <div class="app-icon">üåê</div>
                    <h3>Internet Infrastructure</h3>
                    <p>Router and network redundancy ensure continuous connectivity even when individual links fail.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">‚ö°</div>
                    <h3>Power Grids</h3>
                    <p>Multiple transmission paths prevent blackouts when power lines or transformers fail.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">‚úàÔ∏è</div>
                    <h3>Transportation</h3>
                    <p>Alternate routes in road, rail, and air networks maintain connectivity during disruptions.</p>
                </div>
                
                <div class="app-card">
                    <div class="app-icon">‚òÅÔ∏è</div>
                    <h3>Cloud Computing</h3>
                    <p>Data center interconnections and redundant servers ensure high availability of services.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about">
        <div class="container">
            <h2>üìë About This Project</h2>
            
            <div style="background: rgba(99, 102, 241, 0.1); border-radius: 10px; padding: 2rem; margin: 2rem 0;">
                <h3 style="color: #8b5cf6;">Project Team</h3>
                <p style="font-size: 1.1rem; margin: 1rem 0;">
                    [Your Names Here]
                </p>
                
                <h3 style="color: #8b5cf6; margin-top: 2rem;">Project Guide</h3>
                <p style="font-size: 1.1rem; margin: 1rem 0;">
                    [Guide Name & Designation]
                </p>
                
                <h3 style="color: #8b5cf6; margin-top: 2rem;">Institution</h3>
                <p style="font-size: 1.1rem; margin: 1rem 0;">
                    [Your College/University]
                </p>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <button onclick="downloadPDF()">üì• Download Project Report (PDF)</button>
                <button onclick="window.print()" style="background: linear-gradient(45deg, #8b5cf6, #ec4899);">üñ®Ô∏è Print Website</button>
            </div>

            <div style="background: rgba(99, 102, 241, 0.1); border-radius: 10px; padding: 2rem; margin-top: 2rem;">
                <h3 style="color: #8b5cf6;">Technologies Used</h3>
                <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; justify-content: center;">
                    <span style="background: rgba(99, 102, 241, 0.2); padding: 0.5rem 1rem; border-radius: 5px;">HTML5 Canvas</span>
                    <span style="background: rgba(99, 102, 241, 0.2); padding: 0.5rem 1rem; border-radius: 5px;">JavaScript</span>
                    <span style="background: rgba(99, 102, 241, 0.2); padding: 0.5rem 1rem; border-radius: 5px;">Monte Carlo Simulation</span>
                    <span style="background: rgba(99, 102, 241, 0.2); padding: 0.5rem 1rem; border-radius: 5px;">Graph Theory</span>
                    <span style="background: rgba(99, 102, 241, 0.2); padding: 0.5rem 1rem; border-radius: 5px;">CSS3 Animations</span>
                </div>
            </div>

            <div style="text-align: center; margin-top: 3rem; padding: 2rem; border-top: 1px solid rgba(99, 102, 241, 0.3);">
                <p style="color: #a5b4fc;">¬© 2025 Network Reliability Project | Built with üíú by [Your Team]</p>
            </div>
        </div>
    </section>

    <script>
        // Smooth scroll on load
        window.addEventListener('load', function() {
            if (window.location.hash) {
                setTimeout(() => {
                    const target = document.querySelector(window.location.hash);
                    if (target) target.scrollIntoView({ behavior: 'smooth' });
                }, 100);
            }
        });

        // Slider updates with real-time simulation preview
        document.getElementById('probSlider').addEventListener('input', function() {
            document.getElementById('probValue').textContent = this.value;
            updateQuickEstimate();
        });

        document.getElementById('trialsSlider').addEventListener('input', function() {
            document.getElementById('trialsValue').textContent = this.value;
        });

        document.getElementById('graphType').addEventListener('change', function() {
            updateQuickEstimate();
        });

        function updateQuickEstimate() {
            const prob = parseFloat(document.getElementById('probSlider').value);
            const graphType = document.getElementById('graphType').value;
            let estimate = 0;
            
            // Quick theoretical estimates based on graph structure
            if (graphType === 'triangle') {
                estimate = 1 - (1 - prob) * (1 - prob) * (1 - prob * prob * prob);
            } else if (graphType === 'star') {
                estimate = Math.pow(prob, 4);
            } else if (graphType === 'complete4') {
                estimate = 1 - Math.pow(1 - prob, 6);
            } else {
                estimate = Math.pow(prob, 4);
            }
            
            const quickResult = document.getElementById('quickEstimate');
            if (quickResult) {
                quickResult.textContent = `Estimated: ~${(estimate * 100).toFixed(1)}%`;
            }
        }

        // Interactive Graph Drawing
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');
        
        let nodes = [
            {x: 300, y: 100, id: 0},
            {x: 200, y: 250, id: 1},
            {x: 400, y: 250, id: 2},
            {x: 300, y: 300, id: 3}
        ];
        
        
        let edges = [
            {from: 0, to: 1, active: true},
            {from: 0, to: 2, active: true},
            {from: 1, to: 2, active: true},
            {from: 1, to: 3, active: true},
            {from: 2, to: 3, active: true}
        ];

        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            edges.forEach(edge => {
                const from = nodes[edge.from];
                const to = nodes[edge.to];
                ctx.beginPath();
                ctx.moveTo(from.x, from.y);
                ctx.lineTo(to.x, to.y);
                ctx.strokeStyle = edge.active ? '#10b981' : '#ef4444';
                ctx.lineWidth = edge.active ? 3 : 2;
                ctx.stroke();
            });
            
            nodes.forEach(node => {
                ctx.beginPath();
                ctx.arc(node.x, node.y, 20, 0, Math.PI * 2);
                ctx.fillStyle = '#6366f1';
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 16px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(node.id, node.x, node.y);
            });
        }

        function getClickedEdge(x, y) {
    for (let e of edges) {
        const n1 = nodes[e.from], n2 = nodes[e.to];
        // distance from point to line segment
        const A = x - n1.x, B = y - n1.y;
        const C = n2.x - n1.x, D = n2.y - n1.y;
        const dot = A * C + B * D;
        const lenSq = C * C + D * D;
        let t = dot / lenSq;
        t = Math.max(0, Math.min(1, t));
        const px = n1.x + t * C, py = n1.y + t * D;
        const dist = Math.sqrt((px - x) ** 2 + (py - y) ** 2);
        if (dist < 10) return e;
    }
    return null;
}

        function checkConnectivity() {
            const visited = new Array(nodes.length).fill(false);
            const activeEdges = edges.filter(e => e.active);
            
            function dfs(nodeId) {
                visited[nodeId] = true;
                activeEdges.forEach(edge => {
                    if (edge.from === nodeId && !visited[edge.to]) dfs(edge.to);
                    if (edge.to === nodeId && !visited[edge.from]) dfs(edge.from);
                });
            }
            
            dfs(0);
            return visited.every(v => v);
        }

        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            edges.forEach(edge => {
                const from = nodes[edge.from];
                const to = nodes[edge.to];
                const dist = distanceToLine(x, y, from.x, from.y, to.x, to.y);
                if (dist < 10) {
                    edge.active = !edge.active;
                    checkConnectivity();
                     drawGraph();
                }
            });
            function checkConnectivity() {
    let visited = new Set();
    function dfs(node) {
        visited.add(node);
        edges.forEach(e => {
            if (e.active) {
                if (e.from === node && !visited.has(e.to)) dfs(e.to);
                if (e.to === node && !visited.has(e.from)) dfs(e.from);
            }
        });
    }
    dfs(0);
    const status = visited.size === nodes.length ? 
        "‚úÖ Graph is CONNECTED" : "‚ùå Graph is DISCONNECTED";
    document.getElementById("connectivityStatus").textContent = status;
}
            
           

        // Draw preview graphs
        function drawPreviewGraph(canvasId, nodes, edges) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw edges
            edges.forEach(edge => {
                const from = nodes[edge[0]];
                const to = nodes[edge[1]];
                ctx.beginPath();
                ctx.moveTo(from.x, from.y);
                ctx.lineTo(to.x, to.y);
                ctx.strokeStyle = '#6366f1';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
            
            // Draw nodes
            nodes.forEach((node, i) => {
                ctx.beginPath();
                ctx.arc(node.x, node.y, 12, 0, Math.PI * 2);
                ctx.fillStyle = '#8b5cf6';
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
        }

        // Triangle
        drawPreviewGraph('trianglePreview', 
            [{x: 75, y: 30}, {x: 40, y: 100}, {x: 110, y: 100}],
            [[0,1], [1,2], [0,2]]
        );

        // Star
        drawPreviewGraph('starPreview',
            [{x: 75, y: 75}, {x: 75, y: 20}, {x: 130, y: 75}, {x: 75, y: 130}, {x: 20, y: 75}],
            [[0,1], [0,2], [0,3], [0,4]]
        );

        // Complete K4
        drawPreviewGraph('k4Preview',
            [{x: 75, y: 30}, {x: 40, y: 100}, {x: 110, y: 100}, {x: 75, y: 120}],
            [[0,1], [0,2], [0,3], [1,2], [1,3], [2,3]]
        );

        // Tree
        drawPreviewGraph('treePreview',
            [{x: 75, y: 30}, {x: 50, y: 80}, {x: 100, y: 80}, {x: 30, y: 120}, {x: 70, y: 120}],
            [[0,1], [0,2], [1,3], [1,4]]
        );

        resetGraph();
            const connected = checkConnectivity();
            const status = document.getElementById('connectivityStatus');
            status.textContent = connected ? '‚úì Network is CONNECTED' : '‚úó Network is DISCONNECTED';
            status.style.color = connected ? '#10b981' : '#ef4444';
        });

        function distanceToLine(px, py, x1, y1, x2, y2) {
            const A = px - x1;
            const B = py - y1;
            const C = x2 - x1;
            const D = y2 - y1;
            const dot = A * C + B * D;
            const lenSq = C * C + D * D;
            let param = -1;
            if (lenSq !== 0) param = dot / lenSq;
            let xx, yy;
            if (param < 0) { xx = x1; yy = y1; }
            else if (param > 1) { xx = x2; yy = y2; }
            else { xx = x1 + param * C; yy = y1 + param * D; }
            const dx = px - xx;
            const dy = py - yy;
            return Math.sqrt(dx * dx + dy * dy);
        }

        function resetGraph() {
            edges.forEach(edge => edge.active = true);
            drawGraph();
            document.getElementById('connectivityStatus').textContent = '';
        }

        drawGraph();

        // Monte Carlo Simulation with progress indicator
        function runSimulation() {
            const button = event.target;
            button.disabled = true;
            button.textContent = '‚è≥ Running...';
            
            const prob = parseFloat(document.getElementById('probSlider').value);
            const trials = parseInt(document.getElementById('trialsSlider').value);
            const graphType = document.getElementById('graphType').value;
            
            // Show result box immediately
            document.getElementById('resultBox').style.display = 'block';
            document.getElementById('reliabilityResult').textContent = 'Computing...';
            document.getElementById('resultDetails').textContent = 'Please wait...';
            
            // Run simulation in next frame to allow UI update
            setTimeout(() => {
                let graph;
                if (graphType === 'triangle') {
                    graph = {nodes: 3, edges: [[0,1], [1,2], [0,2]]};
                } else if (graphType === 'star') {
                    graph = {nodes: 5, edges: [[0,1], [0,2], [0,3], [0,4]]};
                } else if (graphType === 'complete4') {
                    graph = {nodes: 4, edges: [[0,1], [0,2], [0,3], [1,2], [1,3], [2,3]]};
                } else {
                    graph = {nodes: 5, edges: [[0,1], [1,2], [1,3], [3,4]]};
                }
                
                let successCount = 0;
                
                for (let t = 0; t < trials; t++) {
                    const activeEdges = graph.edges.filter(() => Math.random() < prob);
                    if (isConnected(graph.nodes, activeEdges)) {
                        successCount++;
                    }
                }
                
                const reliability = (successCount / trials * 100).toFixed(2);
                
                document.getElementById('reliabilityResult').textContent = reliability + '%';
                document.getElementById('resultDetails').textContent = 
                    `Out of ${trials.toLocaleString()} trials, ${successCount.toLocaleString()} resulted in a connected network with probability p = ${prob}.`;
                
                button.disabled = false;
                button.textContent = '‚ñ∂ Run Simulation';
                
                // Add interpretation
                const interpretation = document.getElementById('interpretation');
                if (interpretation) {
                    let message = '';
                    const rel = parseFloat(reliability);
                    if (rel > 90) message = 'üü¢ Excellent reliability! This network is highly robust.';
                    else if (rel > 70) message = 'üü° Good reliability. Network has decent fault tolerance.';
                    else if (rel > 50) message = 'üü† Moderate reliability. Consider adding redundant paths.';
                    else message = 'üî¥ Low reliability. Network is vulnerable to failures.';
                    interpretation.textContent = message;
                }
            }, 50);
        }

        function isConnected(nodeCount, edges) {
            if (edges.length === 0) return nodeCount === 1;
            
            const visited = new Array(nodeCount).fill(false);
            
            function dfs(node) {
                visited[node] = true;
                edges.forEach(edge => {
                    if (edge[0] === node && !visited[edge[1]]) dfs(edge[1]);
                    if (edge[1] === node && !visited[edge[0]]) dfs(edge[0]);
                });
            }
            
            dfs(0);
            return visited.every(v => v);
        }

        function downloadPDF() {
            alert('PDF download feature: In a real implementation, this would generate/download your project report PDF.');
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>